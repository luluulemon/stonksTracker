<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quote</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"/>
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-light">
        <div class="container-fluid">
             <a href=# class="navbar-brand"> Stonks hub </a>
             <button 
                class="navbar-toggler" 
                type="button"
                data-bs-toggle="collapse" 
                data-bs-target="#navbarNav"
                aria-controls="navbarNav" 
                aria-expanded="false"
                aria-label="Toggle Navigation">
                <span class="navbar-toggler-icon"></span>
             </button>
             <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link active" aria-current="page" th:href="@{/}">Get quotes</a></li>
                    <li><a class="nav-link" th:href="@{/movers}">Top movers</a></li>
                    <li><a class="nav-link"  th:href="@{/portfolio}">My portfolio</a></li>
                    <li><a class="nav-link"  th:href="@{/watchlist}">My watchlist</a></li>
                </ul>
             </div>
        </div>
    </nav>  
    <div class="container">
        <div class="row">
            <h1>  StonksHub </h1>
        </div>
        <div class="row">
            <form th:action="@{/quote}">
                <input type="text" name="ticker"/>
                <input type="submit" value="GET QUOTE" placeholder="Pls enter ticker"/>
            </form>
        </div>
        <div class="row">
            <div id="msg" th:if="${Quote.symbol==null}">
                <h3 th:text="${Quote.description}"></h3>   
            </div>
        </div>
        <div class="row">
            <table th:if="${Quote.symbol!=null}">
                <tr>
                    <td>
                        <img th:src="${Profile.logo}" width=80 height=80/>
                    </td>
                    <td>
                        <h2 th:text="${Quote.symbol}"></h2>
                        <h4 style="margin-top:-15px; margin-right:10px;"  th:text="${Quote.description}"></h4>
                    </td>
                    <td>
                        <h3 align="center" th:text="${Quote.lastPrice}"></h3>
                        <h4 align="center" style="margin-top:-10px;" th:text="${Quote.netChange}"></h4>
                    </td>
                    <td>
                        <a th:href="@{/addToWatch2}"> ADD TO WATCHLIST </a>
                    </td>
                </tr>     
                <tr>
                    <td colspan="2"><a th:href="@{${Profile.weburl}}"/><span th:text=${Profile.weburl}></span></td>
                    <td><span th:text="${'Volume: ' + Quote.totalVolume}"/></td>
                </tr>
            </table>
        </div>
        <div class="row">
            <hr>
            <p th:if="${Quote.symbol!=null}"> 
                <span th:text="${'Industry: ' + Profile.Industry}"/>
                <br>
                <span th:text="${'IPO Date: ' + Profile.ipoDate}"/>
                <br>
                <span th:text="${'Market Cap (m): ' + #numbers.formatDecimal(Profile.marketCapitalization,1,'COMMA',2,'DEFAULT')}"/>
                <br>
                <span th:text="${'Total Shares O/S (m): ' + Profile.shareOutstanding}"/>
                <br>        
                <span th:text="${'52 week High: ' + Quote.yearHigh}"/>
                <br>
                <span th:text="${'52 week Low: ' + Quote.yearLow}"/>
                <br>
                <span th:text="${'PE ratio: ' + #numbers.formatDecimal(Quote.peRatio,1,'COMMA',2,'DEFAULT') }"/>
            </p>
        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>